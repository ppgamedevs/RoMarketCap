# Architecture (Day 1)

## Goals

- **Programmatic SEO at scale** (localized pages, hreflang/canonical, segmented sitemaps)
- **Solo-founder velocity** (simple conventions, few moving parts)
- **Serverless-first** (Vercel, cron jobs, minimal infra)
- **ML-ready** (clear boundaries for ingestion/features/inference)
- **Security baseline** (validation, rate limiting, audit logs)

## High-level layout

- `app/`: Next.js App Router (routes + server components + API handlers)
  - `app/(public)/ro/*` and `app/(public)/en/*`: localized public pages
  - `app/(auth)/*`: auth pages (design now, implement later)
  - `app/(admin)/*`: admin UI (protected later)
  - `app/api/*`: API routes (health checks, webhooks, internal APIs later)
- `components/`: shared UI
  - `components/ui`: shadcn/ui primitives
  - `components/layout`: layout shell components
  - `components/charts`: visualization primitives
- `lib/`: application modules (thin, testable, dependency-injected)
  - `lib/db`: Prisma + DB access
  - `lib/auth`: auth + authorization helpers
  - `lib/security`: validation/rate limit/audit helpers
  - `lib/seo`: metadata + hreflang/canonical/sitemap helpers
  - `lib/ingestion`, `lib/ml`, `lib/scoring`, `lib/valuation`: intentionally empty Day 1
- `jobs/`: background jobs (triggered via Vercel Cron / queues later)
- `prisma/`: schema + migrations
- `scripts/`: one-off scripts (safe, idempotent)
- `styles/`: global styling/tokens (Tailwind + shadcn live in `app/globals.css` today)
- `types/`: shared TS types
- `docs/`: concise product/engineering documentation

## Boundaries & rules (so we donâ€™t paint ourselves into a corner)

- **No business logic in routes**: routes delegate to `lib/*` modules.
- **Pure modules**: `lib/*` functions should be easy to test and reuse in jobs.
- **SEO is a first-class API**: metadata/canonical/hreflang are generated by `lib/seo`.
- **Jobs use the same modules** as the app (no duplicate logic).
- **Auditability**: sensitive changes always produce an `AuditLog` record.


